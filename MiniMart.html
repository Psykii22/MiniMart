<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MiniMart</title>
  <meta name="description" content="MiniMart — Online Store" />

  <style>
:root {
  --bg: #ffffff;
  --text: #231f1f;
  --muted: #7b6e6e;

  --accent: #ff5722;
  --accent-600: #e64a19;

  --surface: #fff4ee;

  --font-sans: system-ui, "Segoe UI", Roboto;

  --max-width: 1100px;
  --space-xs: 6px;
  --space-sm: 12px;
  --space-md: 20px;
  --space-lg: 40px;
  --radius: 10px;
  --fs-base: 16px;
  --line-height: 1.5;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; font-family: var(--font-sans); font-size: var(--fs-base); color: var(--text); background: var(--bg); line-height: var(--line-height);
}

.container { width: calc(100% - 32px); max-width: var(--max-width); margin: 0 auto; }
img { width: 100%; height: auto; border-radius: 12px; display:block }

.card__media img { width:100%; height:100%; object-fit:cover; border-radius:10px; }

.site__header { background: linear-gradient(0deg, rgba(0,0,0,0.02), transparent); border-bottom: 1px solid rgba(0,0,0,0.04); }
.header { display:flex; gap:12px; align-items:center; padding:16px 0; }
.brand { display:flex; align-items:center; gap:12px; text-decoration:none; color:inherit }
.brand__logo { width:48px; height:48px; border-radius:10px; background:linear-gradient(135deg,var(--accent),#8b5cf6); color:white; display:flex; align-items:center; justify-content:center; font-weight:700 }
.brand__name { font-weight:700; font-size:18px }
.nav { margin-left:auto }
.nav__list { display:flex; gap:18px; list-style:none; margin:0; padding:0; align-items:center }
.nav__link { text-decoration:none; color:var(--muted) }
.nav__link:hover { color:var(--text) }
.header__cta { margin-left:14px }

.hero { padding:44px 0; margin-top:20px; background: linear-gradient(90deg, var(--surface), transparent); border-radius:12px }
.hero__inner { display:flex; gap:24px; align-items:center; padding-left:10px;}
.hero__content { flex:1 }
.hero__title { margin:0 0 8px; font-size:clamp(24px,4vw,40px) }
.hero__lead { margin:0 0 16px; color:var(--muted) }
.hero__actions { display:flex; gap:12px }
.hero__media { width:1200px; min-height:200px; display:flex; align-items:center; justify-content:center}
.placeholder { background:linear-gradient(90deg,#fff,#eee); border-radius:12px; padding:24px; width:100%; text-align:center; color:var(--muted) }

.section { padding:36px 0 }
.section--alt { background:#fbfbfd }
.section__title { margin:0 0 16px }
.grid { display:grid; gap:16px }
.grid--3 { grid-template-columns: repeat(3, 1fr) }
.grid--2 { grid-template-columns: repeat(2, 1fr) }

.card { background:var(--bg); padding:12px; border-radius:10px; border:1px solid rgba(0,0,0,0.04); display:flex; flex-direction:column; gap:12px }
.card__media { height: 220px; border-radius:10px; overflow:hidden; } border-radius:10px; overflow:hidden; }
.card__title { margin:0 0 8px; font-weight:700 }
.card__text { margin:0 0 8px; color:var(--muted); font-size:14px }
.card__row { display:flex; justify-content:space-between; align-items:center }
.card__actions { display:flex; gap:8px; align-items:center }
.price { font-weight:800 }

.form { max-width:640px }
.input { padding:10px; border-radius:8px; border:1px solid rgba(0,0,0,0.08) }

.btn { display:inline-block; padding:10px 14px; border-radius:8px; border:0; text-decoration:none; cursor:pointer; font-weight:600 }
.btn--primary { background:var(--accent); color:#fff }
.btn--primary:hover { background:var(--accent-600) }
.btn--ghost { background:transparent; border:1px solid rgba(0,0,0,0.08) }

.site__footer { padding:20px 0; border-top:1px solid rgba(0,0,0,0.04) }
.footer { display:flex; justify-content:space-between; gap:12px; align-items:center }

/* Responsive */
@media (max-width:980px){ .grid--3 { grid-template-columns: repeat(2, 1fr) } .hero__inner { flex-direction:column } .nav__list { display:none } }
@media (max-width:620px){ .grid--3 { grid-template-columns: 1fr } }
  </style>
</head>
<body>
  <header class="site__header">
    <div class="container header">
      <a class="brand" href="#">
        <div class="brand__logo">MM</div>
        <div>
          <div class="brand__name">MiniMart</div>
          <div class="muted" style="font-size:13px">Smart shopping starts here</div>
        </div>
      </a>

      <nav class="nav">
        <ul class="nav__list">
          <li><a class="nav__link" href="#products">Products</a></li>
          <li><a class="nav__link" href="#about">About</a></li>
          <li><a class="nav__link" href="#contact">Contact</a></li>
          <li class="header__cta"><button class="btn btn--primary" id="checkoutTop">Checkout</button></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero" style="position:relative;overflow:hidden">
      <div class="hero__inner">
        <div class="hero__content" style="position:relative;z-index:1">
          <h1 class="hero__title">Everyday essentials. Delivered.</h1>
          <p class="hero__lead">Curated picks — tech, home, fitness and stationery. Fast checkout and easy returns.</p>
          <div class="hero__actions">
            <a class="btn btn--primary" href="#products" role="button">Shop collection</a>
            <a class="btn btn--ghost" href="#about">Learn more</a>
          </div>
        </div>
        <div class="hero__media" style="position:absolute;inset:0;z-index:0;border-radius:12px;overflow:hidden">
  <canvas id="heroCanvas" style="width:100%;height:100%"></canvas>
</div>
      </div>
    </section>

    <section id="products" class="section">
      <h2 class="section__title">Featured Products</h2>

      <div style="display:flex;gap:12px;align-items:center;margin-bottom:14px">
        <input id="search" class="input" placeholder="Search products, e.g. headphones, mug..." style="flex:1" />
        <select id="category" class="input" style="width:160px">
          <option value="all">All categories</option>
        </select>
        <select id="sort" class="input" style="width:160px">
          <option value="popular">Sort: Popular</option>
          <option value="price-asc">Price: Low → High</option>
          <option value="price-desc">Price: High → Low</option>
          <option value="alpha">Name: A → Z</option>
        </select>
      </div>

      <div id="grid" class="grid grid--3"></div>
      <div id="noResults" style="display:none;margin-top:24px;color:var(--muted)">No products match your search / filters.</div>
    </section>

    <section class="section section--alt" id="about">
      <div style="display:flex;gap:20px;align-items:center">
        <div style="flex:1">
          <h3 class="section__title">Why MiniMart</h3>
          <p class="card__text">Thoughtfully curated products, transparent pricing, and friendly support. We believe shopping should be simple.</p>
        </div>
        <div style="width:260px">
          <div class="card">
            <div style="font-weight:700">Free shipping</div>
            <div class="card__text">On orders over ₹2,000</div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="section" style="display:flex;flex-direction:column;align-items:center;text-align:center">
      <h3 class="section__title">Get in touch</h3>
      <form class="form" style="max-width:480px;width:100%;margin-top:12px;display:flex;flex-direction:column;gap:18px" onsubmit="event.preventDefault(); alert('Thanks — we\'ll get back to you!')">
        <div style="display:flex;flex-direction:column;gap:6px;width:100%"><label>Full name</label><input class="input" required /></div>
        <div style="display:flex;flex-direction:column;gap:6px;width:100%"><label>Email</label><input class="input" type="email" required /></div>
        <div style="display:flex;flex-direction:column;gap:6px;width:100%"><label>Message</label><textarea class="input" rows="4" required></textarea></div>
        <button class="btn btn--primary" type="submit" style="width:100%">Send message</button>
      </form>
    </section>

    <footer class="site__footer">
      <div class="footer">
        <div>© 2025 MiniMart</div>
        <div style="color:var(--muted)"></div>
      </div>
    </footer>
  </main>

  <!-- Cart + Modal (kept functional) -->
  <div id="cartPanel" style="position:fixed;right:18px;bottom:18px;z-index:80">
    <button id="cartToggle" class="btn btn--ghost">Cart (<span id="cartCount">0</span>)</button>
    <div id="cartFly" style="display:none;margin-top:8px;width:320px;background:var(--bg);border:1px solid rgba(0,0,0,0.06);border-radius:10px;padding:12px;box-shadow:0 10px 30px rgba(0,0,0,0.08)">
      <div id="cartList"></div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px"><div style="color:var(--muted)">Total</div><div id="cartTotal" style="font-weight:800">₹0</div></div>
      <div style="display:flex;gap:8px;margin-top:12px">
        <button id="emptyBtn" class="btn btn--ghost">Empty</button>
        <button id="checkoutBtn2" class="btn btn--primary">Checkout</button>
      </div>
    </div>
  </div>

  <div id="modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;padding:18px;z-index:90">
    <div style="width:900px;max-width:100%;background:var(--bg);border-radius:12px;padding:18px;display:grid;grid-template-columns:360px 1fr;gap:16px">
      <div id="modalImg" style="height:320px;border-radius:8px;background:#f6f6f6"></div>
      <div>
        <div style="display:flex;gap:8px;align-items:start">
          <div style="flex:1"><h2 id="modalTitle"></h2><div id="modalCat" style="color:var(--muted)"></div></div>
          <button id="modalClose" class="btn btn--ghost">✕</button>
        </div>
        <p id="modalDesc" style="color:var(--muted);margin-top:12px"></p>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:18px">
          <div id="modalPrice" style="font-weight:800"></div>
          <div style="display:flex;gap:8px;align-items:center">
            <label style="color:var(--muted)">Qty</label>
            <input id="modalQty" type="number" min="1" value="1" style="width:72px;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.08)" />
            <button id="addToCartModal" class="btn btn--primary">Add to cart</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const PRODUCTS = [
      {id:'p1',title:'Wireless Headphones',price:2499,category:'Electronics',desc:'Comfortable over-ear wireless headphones with 30h battery and ANC.',image:'https://images.pexels.com/photos/3394657/pexels-photo-3394657.jpeg'},
      {id:'p2',title:'Ceramic Coffee Mug',price:499,category:'Home',desc:'12oz ceramic mug with matte finish and dishwasher safe.',image:'https://images.pexels.com/photos/585750/pexels-photo-585750.jpeg'},
      {id:'p3',title:'Standing Desk Lamp',price:1299,category:'Home',desc:'LED desk lamp with adjustable brightness.',image:'https://images.pexels.com/photos/8093039/pexels-photo-8093039.jpeg'},
      {id:'p4',title:'Mechanical Keyboard',price:4599,category:'Electronics',desc:'Compact mechanical keyboard with hot-swappable switches.',image:'https://images.pexels.com/photos/4792719/pexels-photo-4792719.jpeg'},
      {id:'p5',title:'Yoga Mat (6mm)',price:899,category:'Fitness',desc:'Non-slip yoga mat with alignment lines and carry strap.',image:'https://images.pexels.com/photos/4056723/pexels-photo-4056723.jpeg'},
      {id:'p6',title:'Stainless Water Bottle',price:799,category:'Fitness',desc:'Insulated 500ml bottle keeps drinks cold for 24h.',image:'https://images.pexels.com/photos/3737651/pexels-photo-3737651.jpeg'},
      {id:'p7',title:'Bluetooth Speaker',price:1999,category:'Electronics',desc:'Portable speaker with 12h playtime.',image:'https://images.pexels.com/photos/6371421/pexels-photo-6371421.jpeg'},
      {id:'p8',title:'Notebook — Lined',price:299,category:'Stationery',desc:'A5 sized 200-page lined notebook.',image:'https://images.pexels.com/photos/434235/pexels-photo-434235.jpeg'},
      {id:'p9',title:'Desk Organizer',price:599,category:'Home',desc:'Wooden desk organizer for workspace.',image:'https://images.pexels.com/photos/389818/pexels-photo-389818.jpeg'},
      {id:'p10',title:'Running Socks (3-pack)',price:399,category:'Fitness',desc:'Breathable cushioned running socks.',image:'https://images.pexels.com/photos/1598505/pexels-photo-1598505.jpeg'}
    ];

    let state = { cart: {} };
    const el = id => document.getElementById(id);
    const format = n => '₹' + n.toLocaleString('en-IN', {minimumFractionDigits:0});

    function initCategories(){
      const set = new Set(PRODUCTS.map(p=>p.category));
      const sel = el('category'); set.innerHTML = '<option value="all">All categories</option>';
      set.forEach(c=>{ const o = document.createElement('option'); o.value=c; o.textContent=c; sel.appendChild(o); });
    }

    function renderGrid(list){
      const grid = el('grid'); grid.innerHTML = '';
      if(list.length===0){ el('noResults').style.display='block'; return }
      el('noResults').style.display='none';
      list.forEach(p=>{
        const div = document.createElement('div'); div.className = 'card';
        div.innerHTML = `
          <div class="card__media"><img src="${p.image}" alt="${p.title}"/></div>
          <div>
            <div class="card__title">${p.title}</div>
            <div class="card__text">${p.desc}</div>
            <div class="card__row">
              <div class="price">${format(p.price)}</div>
              <div class="card__actions">
                <button class="btn btn--ghost" data-action="view" data-id="${p.id}">View</button>
                <button class="btn btn--primary" data-action="add" data-id="${p.id}">Add</button>
              </div>
            </div>
          </div>
        `;
        grid.appendChild(div);
      });
    }

    function saveCart(){ localStorage.setItem('minimart_cart', JSON.stringify(state.cart)); }
    function loadCart(){ try{ state.cart = JSON.parse(localStorage.getItem('minimart_cart')) || {}; }catch(e){ state.cart = {}; } }

    function updateCartUI(){
      const list = el('cartList'); list.innerHTML=''; const ids = Object.keys(state.cart);
      if(ids.length===0){ list.innerHTML = '<div style="color:var(--muted)">Your cart is empty</div>'; el('cartCount').textContent = '0'; el('cartTotal').textContent = '₹0'; return }
      let total=0; ids.forEach(id=>{
        const item = state.cart[id]; const p = item.product; const qty = item.qty; total += p.price*qty;
        const row = document.createElement('div'); row.style.display='flex'; row.style.justifyContent='space-between'; row.style.alignItems='center'; row.style.marginBottom='8px';
        row.innerHTML = `<div style="flex:1"><div style="font-weight:700">${p.title}</div><div style="color:var(--muted);font-size:13px">${format(p.price)} × ${qty}</div></div><div style="display:flex;flex-direction:column;gap:6px;align-items:flex-end"><div style="display:flex;gap:6px"><button class=\"btn btn--ghost\" data-action=\"dec\" data-id=\"${id}\">−</button><div style=\"padding:0 8px\">${qty}</div><button class=\"btn btn--ghost\" data-action=\"inc\" data-id=\"${id}\">+</button></div><button class=\"btn btn--ghost\" data-action=\"remove\" data-id=\"${id}\">Remove</button></div>`;
        list.appendChild(row);
      });
      el('cartCount').textContent = ids.length;
      el('cartTotal').textContent = format(total);
    }

    function addToCart(id, qty=1){ const p = PRODUCTS.find(x=>x.id===id); if(!p) return; if(state.cart[id]) state.cart[id].qty += qty; else state.cart[id] = {product:p, qty:qty}; saveCart(); updateCartUI(); }
    function changeQty(id, delta){ if(!state.cart[id]) return; state.cart[id].qty += delta; if(state.cart[id].qty<=0) delete state.cart[id]; saveCart(); updateCartUI(); }
    function removeFromCart(id){ delete state.cart[id]; saveCart(); updateCartUI(); }

    // Search/filter/sort
    function applyFilters(){ const q = el('search').value.trim().toLowerCase(); const cat = el('category').value; const sort = el('sort').value; let out = PRODUCTS.filter(p=>{ if(cat!=='all' && p.category!==cat) return false; if(q && !(p.title.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q) || p.category.toLowerCase().includes(q))) return false; return true; }); if(sort==='price-asc') out.sort((a,b)=>a.price-b.price); else if(sort==='price-desc') out.sort((a,b)=>b.price-a.price); else if(sort==='alpha') out.sort((a,b)=>a.title.localeCompare(b.title)); renderGrid(out); }

    // Modal
    const modal = el('modal');
    function openModal(id){ const p = PRODUCTS.find(x=>x.id===id); if(!p) return; el('modalTitle').textContent = p.title; el('modalCat').textContent = p.category; el('modalDesc').textContent = p.desc; el('modalPrice').textContent = format(p.price); el('modalImg').innerHTML = `<img src="${p.image}" alt="${p.title}" style="width:100%;height:100%;object-fit:cover;border-radius:8px"/>`; el('modalQty').value = 1; modal.style.display='flex'; }
    function closeModal(){ modal.style.display='none'; }

    // Events
    document.addEventListener('click', e=>{
      const btn = e.target.closest('[data-action]'); if(btn){ const id = btn.dataset.id; const action = btn.dataset.action; if(action==='view') openModal(id); if(action==='add') addToCart(id,1); if(action==='inc') changeQty(id,1); if(action==='dec') changeQty(id,-1); if(action==='remove') removeFromCart(id); }
    });

    el('search').addEventListener('input', applyFilters);
    el('category').addEventListener('change', applyFilters);
    el('sort').addEventListener('change', applyFilters);

    el('modalClose').addEventListener('click', closeModal);
    el('addToCartModal').addEventListener('click', ()=>{ const id = el('addToCartModal').dataset.id; const q = Math.max(1, parseInt(el('modalQty').value||1)); addToCart(id,q); closeModal(); });

    // Cart flyout
    el('cartToggle').addEventListener('click', ()=>{ const fly = el('cartFly'); fly.style.display = fly.style.display==='block' ? 'none' : 'block'; });
    el('emptyBtn').addEventListener('click', ()=>{ if(confirm('Empty your cart?')){ state.cart={}; saveCart(); updateCartUI(); } });
    el('checkoutBtn2').addEventListener('click', ()=>{ if(Object.keys(state.cart).length===0){ alert('Cart is empty'); return } const name = prompt('Enter your name:'); if(!name) return; alert('Order placed — thank you, '+name); state.cart={}; saveCart(); updateCartUI(); });
    el('checkoutTop').addEventListener('click', ()=> el('checkoutBtn2').click());

    // init
    (function init(){ initCategories(); loadCart(); updateCartUI(); renderGrid(PRODUCTS); })();
  </script>
<script src="https://cdn.jsdelivr.net/npm/three@0.157/build/three.min.js"></script>
<script>
// Three.js animated background effect
const canvas = document.getElementById('heroCanvas');
const renderer = new THREE.WebGLRenderer({canvas, antialias:true});
function resize(){ const rect = canvas.getBoundingClientRect(); renderer.setSize(rect.width, rect.height); camera.aspect = rect.width/rect.height; camera.updateProjectionMatrix(); }
const scene = new THREE.Scene();
scene.background = new THREE.Color('#fff4ee');
const camera = new THREE.PerspectiveCamera(55, 1, 0.1, 100);
camera.position.z = 5;
// particles
const particles = 4000;
const geo = new THREE.BufferGeometry();
const pos = new Float32Array(particles * 3);
for(let i=0;i<particles;i++){ pos[i*3] = (Math.random()-0.5)*10; pos[i*3+1] = (Math.random()-0.5)*10; pos[i*3+2] = (Math.random()-0.5)*10; }
geo.setAttribute('position', new THREE.BufferAttribute(pos,3));
const mat = new THREE.PointsMaterial({color:'#ff5722', size:0.04});
const points = new THREE.Points(geo, mat);
scene.add(points);
function animate(){ requestAnimationFrame(animate); points.rotation.x += 0.0006; points.rotation.y += 0.001; renderer.render(scene,camera);} resize(); animate();
</script>
</body>
</html>
